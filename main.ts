controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .....fffc1111111f.......
        ...fc111cd1111111f......
        ...f1b1b1b1111dddf......
        ...fbfbffcf11fcddf......
        ......fcf111111bbf......
        .......ccbdb1b1fcf......
        .......fffbfbfdff.......
        ........ffffffff........
        ........fffffffffff.....
        .........fffffc111cf....
        .........fffff1b1b1f....
        ..........ffffbfbfbf....
        ...........ffff.........
        ........................
        ........................
        ........................
        `)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f1111111dbf......
        ......fd1111111ddf......
        ......fd111111dddf......
        ......fd111ddddddf......
        ......fd111ddddddf......
        ......fd1dddddddbf......
        ......fd1dfbddbbff......
        ......fbddfcdbbcf.......
        .....ffffccddbfff.......
        ....fcb1bbbfcffff.......
        ....f1b1dcffffffff......
        ....fdfdf..ffffffffff...
        .....f.f.....ffffff.....
        ........................
        ........................
        ........................
        ........................
        ........................
        `)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        ......fbd1111111f.......
        ......fdd1111111df......
        ......fddd111111df......
        ......fdddddd111df......
        ......fdddddd111df......
        ......fbddddddd1df......
        ......ffbbddbfd1df......
        .......fcbbdcfddbf......
        .......fffbddccffff.....
        .......ffffcfbbb1bcf....
        ......ffffffffcd1b1f....
        ...ffffffffff..fdfdf....
        .....ffffff.....f.f.....
        ........................
        ........................
        ........................
        ........................
        ........................
        `)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        ........................
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f11111111f.......
        ......fd111111111f......
        ......fd11111111df......
        ......fd11111111df......
        ......fcdd1111ddcff.....
        .......fbcf11fcbfbbf....
        .......ffbdb1bdffff.....
        ........fcbfbfdf........
        ........ffffffff........
        ......ffffffffff........
        .....fcb1bcffff.........
        ......ffbff.............
        ........................
        ........................
        ........................
        ........................
        ........................
        `)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.stairSouth, function (sprite, location) {
    game.over(true)
})
let mySprite: Sprite = null
mySprite = sprites.create(img`
    ........................
    ........................
    ........................
    ..........ffff..........
    ........ff1111ff........
    .......fb111111bf.......
    ......fbd1111111f.......
    ......fdd1111111df......
    ......fddd111111df......
    ......fdddddd111df......
    ......fdddddd111df......
    ......fbddddddd1df......
    ......ffbbddbfd1df......
    .......fcbbdcfddbf......
    .......fffbddccffff.....
    .......ffffcfbbb1bcf....
    ......ffffffffcd1b1f....
    ...ffffffffff..fdfdf....
    .....ffffff.....f.f.....
    ........................
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
controller.moveSprite(mySprite)
tiles.setTilemap(tiles.createTilemap(hex`190019000b05050505050505050505050505050505050505050505050c020101010101010101010101010101010101010101010101080201010101010101010101010101010101010101010101010803070a07070a070a07010107010106060606060606060110080301010101010101010101070101070707070707070707070803010101010101010101010a01010606060606060606060608030101060606060606010107010107010101010101010107080301010707070606060101070101070101010101010101070803010107070701010101010a01010701010601010601010708030101070707010101010107010107010107010107010107080301010707070101070a07070101070101070101070101070803010107070701010701010101010701010701010701010708030101070707010107010101010107010107010107010107080310010707070101060606060606060101070101070101070803060607070701010101010101010101010701010701010708030707070e0701010101010101010101010701010701010708030707070e07070707070707010107070707010107010107080101010101010101010707070101010101010101070101070801010101010101010107070701010101010101010701010708030601010606060101070707010106060606060607010107080307010107010101010707071001070701010101010101070803070101070101010107070706060707010101010101010708030701010701010707070707070707070101060606010107080307010107010101010101010101010101010606060101070804030f0f09010101010101010101010101010909090101090d`, img`
    2222222222222222222222222
    ........................2
    ........................2
    222222222..2..22222222..2
    2..........2..22222222222
    2..........2..22222222222
    2..222222..2..2........22
    2..222222..2..2........22
    2..222.....2..2..2..2..22
    2..222.....2..2..2..2..22
    2..222..2222..2..2..2..22
    2..222..2.....2..2..2..22
    2..222..2.....2..2..2..22
    2..222..2222222..2..2..22
    222222...........2..2..22
    222222...........2..2..22
    222222222222..2222..2..22
    .........222........2..22
    .........222........2..22
    22..222..222..2222222..22
    22..2....222..22.......22
    22..2....2222222.......22
    22..2..222222222..222..22
    22..2.............222..22
    22..2.............222..22
    `, [myTiles.transparency16,sprites.dungeon.floorLight0,sprites.dungeon.stairLarge,sprites.dungeon.greenOuterWest1,sprites.dungeon.greenOuterSouthEast,sprites.dungeon.greenOuterNorth0,sprites.dungeon.purpleOuterSouth1,sprites.dungeon.purpleOuterEast0,sprites.dungeon.greenOuterEast0,sprites.dungeon.greenOuterSouth0,sprites.dungeon.greenOuterSouth2,sprites.dungeon.greenOuterNorthWest,sprites.dungeon.greenOuterNorthEast,sprites.dungeon.greenOuterSouthWest,sprites.dungeon.purpleOuterSouth2,sprites.dungeon.stairSouth,sprites.dungeon.chestClosed], TileScale.Sixteen))
tiles.placeOnRandomTile(mySprite, sprites.dungeon.stairLarge)
scene.cameraFollowSprite(mySprite)
info.startCountdown(40)
